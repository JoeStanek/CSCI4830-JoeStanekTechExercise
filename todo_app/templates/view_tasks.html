{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add a Task</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>
    <div class="shadow-sm bg-info text-center py-3 ">
        <a href="{% url 'front_page'%}" class="text-dark mx-3">Home</a>
        <a href="{% url 'view_task'%}" class="text-dark mx-3">View Tasks</a>
        <a href="{% url 'add_task'%}" class="text-dark mx-3">Add Task</a>
        <a href="{% url 'edit_task' 0 1%}" class="text-dark mx-3">Edit Tasks</a>
        <a href="{% url 'about_page'%}" class="text-dark mx-3">About</a>
    </div>

    <div class=" mt-3 container bg-light rounded shadow-sm border">
        <h1>Search for a task by entering in any field below.</h1>
        <form method="POST">
            {% csrf_token %}
            <div>
                <label for="task">Task:</label>
                <input type="text" id="task" name="task" value="{{task_query}}" />
            </div>
            <div>
                <label for="date">Date:</label>
                <input type="text" id="date" name="date" value="{{date_query}}" />
            </div>

            <button type="submit" class="rounded bg-primary mt-2 mb-2 text-white">Search Task</button>
        </form>
    </div>

    {% if tasks %}
        <div class = "container-fluid border mt-4 bg-light rounded" style="width: 1500px;">
            <h2>Results</h2>
            {%if task_query or date_query%}
            <p><strong>Queries: </strong>{{task_query}} , {{date_query}}</p>
            {%endif%}
            
            <ul class="list-group mb-3">
                {% for task in tasks %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <div class = "d-flex">
                        <strong class="col-auto border" style="width: 75px;; text-align: left">{{task.id}}</strong>
                        
                        <span class="col-auto border" style="width:1290px;overflow: hidden; text-overflow: ellipsis; white-space: nowrap; text-align: left;">{{task.task}}</span>
                        <span class="col-auto border" style="width:90px;overflow: hidden; text-overflow: ellipsis; white-space: nowrap; text-align: left;">{{task.date}}</span>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>

    {% endif %}
</body>